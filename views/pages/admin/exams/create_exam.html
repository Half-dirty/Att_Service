<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../style/style.css">
    <link rel="stylesheet" href="../../style/admin/global.css">
    <link rel="stylesheet" href="../../style/admin/exams.css">
    <title>Document</title>
</head>

<body>
    <div class="wrapper">
        <header class="header">
            <div class="header__container">
                <a class="header__logo" href="/">
                    <img class="header__logo-img" src="../../../pictures/logo.svg" alt="Logo" />
                    <div class="header__logo-text__container">
                        <h2 class="header__logo-text">Аттестация переводчиков русского жестового языка</h2>
                    </div>
                </a>
                <input type="checkbox" id="menu-toggle" class="header__menu-toggle">
                <label for="menu-toggle" class="header__menu-icon">
                    <span></span>
                </label>
            </div>
        </header>

        <main class="main">
            <nav class="menu">
                <ul class="menu__list">
                    <li class="menu__item">
                        <a href="/admin/exam/list" class="menu__button">Прошедшие экзамены</a>
                    </li>
                    <li class="menu__item">
                        <a href="/admin/exam/planning" type="button" class="menu__button">Запланированные экзамены</a>
                    </li>
                    <li class="menu__item">
                        <a href="/admin/exam/scheduled" class="menu__button">Назначенные экзамены</a>
                    </li>
                </ul>
            </nav>

            <section class="profile">
                <div class="profile__params">
                    <div class="profile__params-item">
                        <div class="profile__item-part">
                            <label class="profile__params-label" for="exam_date">Дата проведения экзамена:</label>
                            <input class="profile__params-input" type="date" name="exam_date" id="exam_date" value="{{.exam_date}}">
                        </div>
                        <div class="profile__item-part">
                            <label class="profile__params-label" for="exam_code">Предварительный код экзамена:</label>
                            <input class="profile__params-input" type="text" readonly name="exam_code" id="exam_code"
                                value="{{.ExamCode}}">
                        </div>
                    </div>
                    <div class="profile__params-item">
                        <div class="profile__item-part">
                            <label class="profile__params-label" for="commission_start">Начало действия
                                комиссии:</label>
                                <input class="profile__params-input" type="date" name="commission_start" id="commission_start" value="{{.commission_start}}">
                        </div>
                        <div class="profile__item-part">
                            <label class="profile__params-label" for="commission_end">Конец действия комиссии:</label>
                            <input class="profile__params-input" type="date" name="commission_end" id="commission_end" value="{{.commission_end}}">
                        </div>
                    </div>
                    <div class="profile__people">
                        <div class="profile__people-examiner">
                            <div class="profile__people-header">
                                <label for="examiner-input">Выберите экзаменаторов:</label>
                                <button class="profile__people-select_all" id="select-all_examiner">Выбрать
                                    всех</button>
                            </div>
                            {{range .Examiners}}
                            <div class="profile__examiner-item" data-id="{{.ID}}" {{if .Selected}}data-selected="true"{{end}}>
                                <img class="profile__avatar-mini" src="{{.Avatar}}" alt="Аватар">
                                <div class="profile__user-name">{{.Name}}</div>
                                <div class="profile__examiner-checked">
                                    <div class="profile__menu-icon"></div>
                                    <select class="profile__examiner-role" name="examiner_role_{{.ID}}" style="display: none;">
                                        <option value="chair" {{if eq .Role "chair"}}selected{{end}}>Председатель</option>
                                        <option value="secretary" {{if eq .Role "secretary"}}selected{{end}}>Секретарь</option>
                                        <option value="examiner" {{if or (eq .Role "examiner") (eq .Role "")}}selected{{end}}>Экзаменатор</option>
                                    </select>
                                </div>
                            </div>
                            {{end}}
                        </div>

                        <div class="profile__people-student">
                            <div class="profile__people-header">
                                <label for="student-input">Выберите экзаменуемых:</label>
                                <button class="profile__people-select_all" id="select-all_student">Выбрать всех</button>
                            </div>
                            {{range .Students}}
                            <div class="profile__student-item" data-id="{{.ID}}" {{if .Selected}}data-selected="true"{{end}}>
                                <img class="profile__avatar-mini" src="{{.Avatar}}" alt="Аватар">
                                <div class="profile__user-name">{{.Name}}</div>
                                <div class="profile__menu-icon"></div>
                            </div>
                            {{end}}
                        </div>
                    </div>
                    <div class="profile__exam-buttons">
                        <div class="profile__link" data-id="{{.ExamID}}">
                            <button class="profile__exam-link" id="assign_exam">Назначить</button>
                        </div>
                        <div class="profile__save">
                            <button class="profile__save-button" id="create_exam">Сохранить</button>
                        </div>                        
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer"></footer>
    </div>
    <div id="custom-alert" class="custom-alert hidden"></div>
</body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.5/jquery.inputmask.min.js"></script>
<script src="../../../scripts/admin_script.js"></script>



</html>